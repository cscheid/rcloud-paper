\section{Interview Study\label{sec:interviews}}

To evaluate the effectiveness of RCloud, we interviewed 13 current and past
users of RCloud. Of these, 9 are data analysts and 4 build tools for data
analysts and business needs.


\subsection{Sharing of results}
Sharing of notebooks is the core feature of RCloud, and a popular one. All
active users we spoke to praised this feature.

Raif's usage is typical:
\begin{quote}
I've been sharing my notebooks in order for other people to see what
I've done. It's very convenient for that purpose. [...] We haven't
been editing them together, but we've been just sharing, and I've been looking
at things that other people do. So there's no collaborative aspect of it, like
developing the code, but there's sharing aspects for other people to see and for
me to see other people's notebooks.
\end{quote}

By default, all notebooks are publicly visible in RCloud, and notebooks can be
found through the notebook tree or search. However, the method for sharing that
users mentioned most is by sending links through email. Clint says, ``If my supervisor
wants to see what I've done or QA it, I can just send her a link.''

Besides providing a way to present work to others, notebook sharing can also
provide a starting point. Clint says, ``I think the best part about it is how
easily you can share code. [...] You can find a working example, rather than wearing
out Google and finding questionable examples that may or may not work.'' Raif
notes, if ``some person has done something similar, then you're able to just
edit that, and that's saved a lot of work time for me''

Taylor develops packages for analysts, and uses RCloud ``more for sharing code with
other people, and for doing tutorials for iotools or hmr'', his packages.
``I want people to see how the package works, so I clearly want them
to see the code [...] I kind of write it just like I would write GitHub
Markdown, where you have little code snippets and text, but RCloud lets me
actually run the snippets'' and display the results. He also uses RCloud for
explaining problems with data sources.

Some users who tried out RCloud but are not able to use it for organizational
reasons, already miss the functionality. Shelly likes ``the concept of being
able to create notebooks and share them.'' A ``wiki is not the best way for
communicating results - it's kind of like writing a blog post with very limited
functionality [...] I have to save every picture and post it as an image'' and
``I can't share all of the code because it would just get crowded and wouldn't
look right on a wiki.'' Bart says, ``if I could make a folder on RCloud and have
Python notebooks and also Pig notebooks there, and execute them from RCloud,
that would be much better than my current thing, because that would free me from
manual documentation and version control and also telling people where my code
was. It would be just, hey, go look on RCloud, here's the stuff.''

%% Corey: ``being able to share notebooks or codes, or collaborate on something,
%% easily being able to share that information. That's an obvious advantage and
%% nice to have.''

%% Rick: ``I like being able to look at other people's notebooks.''

\subsection{Forking}
The ability to start work where someone else let off, by forking, has proved to
be a popular feature. In fact, almost twice as many (131) users have forked
someone else's notebook as have starred one (75).  Clint says, ``it's one of the
handiest functions, because instead of having to find it, copy, paste it, you
just hit Fork, you rename it, and it's done. It's pretty amazing.''

Although we always intended forking to be used to improve others' code, we we
initially didn't support forking one's own notebooks, and this has proved very
useful. Rick says ``I fork my own notebooks because I'm going off and doing some
other analogous project, so I've got interesting content that I've already done
in a previous analysis that I want to start from and then tweak to match a new
set of data.''

Forking also provides a way for others to troubleshoot when something goes
wrong.  When Horace works with the users of his notebooks, ``I'll teach people
to intercept the result in the middle,'' to ``insert print statements here and
there and check values.''

%% ``a lot of the time we just
%% insert print statements here and there and check values. Having debugging code
%% inside a functioning program is helpful for others to understand what
%% you're doing.''

%% Shelly: ``gives the audience a way to try their own analysis, like maybe Shelly
%% should have used this parameter and they can just change the parameters''

An extremely common but more problematic use of forking is to
change parameters. Raif: ``I've been forking other people's notebooks [because]
I want to run it on a different part of data, or I want to change some parts, I
don't want to see this column, I want a different column, things like that.''

Currently parameters can be added to the URL, but adding user interface elements
to do the same thing requires expertise. The tool-builders see a need for
facilities to make it easier. Taylor complains that a notebook might say ``
`This is a report of the volume of all of our feeds for this month', and someone
would want to look at it for the next month or the previous month, so they'd
fork it to change the month.''

Jyothi calls it ``web-enabling'' the notebook: users ``can always fork the
notebooks and make changes, but I feel that if the owner of the notebook
web-enables it, [...] it's easier to run. Instead of
forking it, if they can set options, it's probably more efficient, and also they
can [still] fork it if they want to.''

%% Clint: ``For the things that I'll do multiple times, I'll try to parameterize
%% it, and I'm working now on putting some packages together that will operate in
%% some fashion outside of RCloud, straight from the command line''

\subsection{Automatic source control}
%% Rick: ``when I've finished something, there's a nice clean record of it.''
%% (I think this may be more about the publish/markdown than about source control.)

Automatic source control is also a popular feature. Clint says, ``instead of
looking back and saying I've got a billion files here in this subdirectory and I
hope I've got them backed up, if they're on RCloud I know they are. [...] I
don't have to worry about it, if I drop my computer in the bathtub, everythings
gone, because I'm not great about uploading my own for versioning.''

Bart points out that the automatic versioning works well for dealing with the
minutiae of web development:
\begin{quote}
I like the fact that it has a built-in editor, so
if you need to fix a typo in a link, or an extra line break or any of this other
nonsense, you can just switch to the edit view, pull up your asset, type
something, it's automatically saved, committed, everything. You don't have to go
back to your source code, change it, commit it to the repo, pull the repo to
your distribution version. None of that's necessary. A lot of web development is
fixing stupid little bugs, and you can do that instantly without a lot of
overhead, which is nice.
\end{quote}

On the other hand, saving every change leads to many fine-grained
versions. Rick says that for this reason, the history feature is not all that
helpful: ``I don't need something that keeps track of every mistake I've made or
every direction I've tried.'' Tagging these versions with names wouldn't
necessarily help because ``namespaces are already crowded, so trying to remember
the names of notebooks is hard, much less the names of states within each
notebook.''


\subsection{Discovering others' work}
Many users find the search function useful. Raif says ``the fact that we have
all the notebooks there, searchable, saves me from replicating what other people
have done.''

But other users prefer to browse just the notebooks of the experts they
know. Rick says, ``usually I know somebody's notebooks that I want to search
through, like I'll search through Simon Urbanek's first, then I'll go off to
somebody else's, because I know that the kind of thing I'm looking for something
more obscure than I'm likely to find in some random person's.''

More selective ways to search will be needed as the volume of notebooks
continues to grow. We are considering tagging notebooks filtering the notebook
tree by tag, measuring the quality of notebooks by their forks as well as stars,
and searching within a single user's notebooks.


\subsection{Integrated analysis}
Integrating an analysis language into a web development environment is something
the tool developers really appreciate.  The structure of Horace's visualization
notebook means
\begin{quote}
the other guys who want to do analytics on the data, they can first pull the
data, do the analytics on it, and then feed the viewer the data. So [...]
anyone from the stats group [...] can always insert something in between. We
were trying to make such an example so that they don't have to rewrite the GUI
part and they know how to get the data source. Once you get the data into
RCloud, then you have a dataframe to work with, and then they know how to
produce another dataframe.
\end{quote}

Integrating R also helps Jyothi's topic modeling tool, described in the last section.
\begin{quote}
Having an open session with R certainly helps too, because both of my
applications need to be doing something with the data, so having an open session
where I can run R commands or R functions without having to invoke an API or
send out a request and then wait for the request to come back to do the results,
that kind of seamless integration is extremely helpful in writing the
application.
\end{quote}

%% Jyothi: ``another thing I really like about RCloud is your publish feature, so
%% that non-RCloud users, the anonymous login, non-RCloud users can access the
%% notebooks without having to login to RCloud''

%% accidental feature: ``some of my jobs are huge and I like to just call them and
%% the fact that the user can just shut down his browser or shut down his computer
%% and the job still runs in the background is actually a very neat thing. So what,
%% um, the way I have coded is, whenever I have a huge job to run, I just display
%% to the user, you go do whatever you want, we'll send you an email when the job
%% is done. That's another feature of RCloud that's very helpful, that the job
%% will continue to run in the background''


\subsection{Other workflows}

Although most of the analysts we spoke to use and appreciates the sharing
features, RCloud is less popular as a tool for exploratory data analysis and
development.

Much of this is because of familiarity with other tools. Horace: ``for other
people who use RCloud vs RStudio, they will always think that they want to
prototype on RStudio. Maybe because it's more familiar for them. So, they work
on RStudio, on a small data set, and they fix up everything, make sure
everything is right, and then they place it on RCloud for sharing.''

Many of the analysts we spoke to preferred using a text editor to refine and
store their work, pasting it to an R command line to try it out. Rick describes,
``I have the discipline of having a file that describes what I'm doing with the
commands that I'm using so that I can go back and recreate it or pass it on to
someone else, so it's a little bit like having an RCloud notebook, it's not
necessarily executable but most of the commands that I've typed are in there.''

But the web interface of RCloud doesn't cut it for him. ``I find that the style of editing is clunky. I would never edit like that
if I'm doing ordinary work. I usually use vi.'' ``I mean it's nice to have it
saved, but there's this trade-off between it making it easier for me to present
something or to save something, and my ease of typing and correcting and things
in a plain old editor window.''

Kenny works much the same way, rearranging the file so the good code is at the top of
the file. Then he saves the file once he's got the right code at
the top of the file (and often shares the work by pasting it into an RCloud notebook).

Running anything on the Web can also be a source of frustration.  Poor network
connections can cause web sockets to die, and Corey complains ``What frustrates me is
that if I do leave this window for what feels like 5 or 7 minutes, it
disconnects and I have to reconnect and run the whole notebook again.'' Raif
whines that ``being web-based, it's obviously slower than something you would be
running on your machine.'' For Byers: even the little lag of sending a command
to a server and receiving the result is intolerable

Taylor asks, ``why would I want to use RCloud over my
current setup? If it's just me, I like my text editor and terminal. There's
nothing that I want that those two don't give me.''

Working in a shared environment also entails compromises about what you can
install. Byers says that installing random packages is part of exploratory data
analysis.


\subsection{Proliferation of notebook cells}
RCloud's notebook interface combines editable Markdown with a command line
interface.

The interface takes some learning. Clint says ``it took me a couple of weeks of
looking at it to become comfortable because I saw the cells and it just threw me
for a total loop. I mean, it's a good idea because [...] I can run it all at
once if I want or I can break these into sections for either debugging or
staging purposes. I really like it now, but when I first saw it, [it was] very
confusing [...] I think I prefer it now, because you can cut your code up.''

Just the difference between a cell and the command prompt can confuse and slow
down users. Rick: ``if I was typing into one of the cells near that top, I had
to think `I'm editing this cell and then I have to execute it', and if was doing
the one at the bottom I could type it but then it would automatically execute
[by pressing enter], but then it became a standard cell and I have to edit
it. It was just another set of modes that I didn't like''

For some users, the cells getting saved feels incompatible with exploratory data
analysis. Rick notes that Markdown is a form of literate programming, and
``being literate about anything typically takes a lot of rewriting and going
back over things [...] I just want to explore a few things and then I'll know
what I want to write.''

Much of the time, commands typed at the R command line just serve a transitory
purpose, so having RCloud save commands into cells bothers experienced
users. Kenny notes, ``It saves everything I do like everything is gold, but most
of it is junk not meant to be saved.'' Rick says ``I just want to type in a
couple of quick and get some results that are going to tell me what to do next,
and they're not necessarily archival in any sense''

The material that is not appropriate to save includes ``expressions that allow
me to check that I'm the right track'' (Rick), ``checking out what your data is,
or you make a plot of the data. Things that should not really become part of a
notebook, but things that help you understand your data better.'' (Raif)

Users also felt that cells do not capture the right level of granularity: they
either hold too much code or too little. Rick says that RCloud's cells structure
``tempts me to type a big long thing and then run the whole thing, as opposed to
typing a few little pieces that I'm thinking of on the inner parts and then put
them together to make the big thing'' as he would do on the command line. When
Taylor uses the R command line, he copies and pastes ``like 5-10 lines of code,
so when something breaks, I get an error message on that one line, and I can
up-arrow and change it and fix it, whereas in RCloud I have to run a whole cell,
so the only way to get that same functionality is if every line's in one
cell. Because if it runs lines 1, 2, 3, then 4 fails, I have to either run the
whole cell again, or have line 4 in its own cell. I can't rerun just one line.''

Cells can also take up substantial vertical space, requiring scrolling. Rick
complains that ``every time I type more stuff, the notebook gets longer and
longer and it's harder to deal with.'' Ivan says that cells' controls and blank
space take extra real estate compared to a straight command line, and he and
KCKC both complained that when there are long results or plots, it causes the
code to scroll off the screen. Raif: ``for example imagine I run a cell whose
output is huge, and now that output would block the whole window, and in order
to find the next cell, I have to scroll down, and find where that cell starts,
right? So, I'm losing the continuity of my code to the output''

Some users think users should have the option to keep results separate from the
code.  Ivan thinks that RStudio's layout is more helpful because the charts
are kept in another pane and stay in one place while doing analysis. Raif says
``cells are really useful'' but ``you want to see your output in a different
window [or] on a separate part of the window''.

The cell structure also can be problematic if some cells take a long time to
run. In Kenny's work, there is often a ``long tail''.  The first cell may take
seconds to run, the next cell minutes, and the last cell 5 hours.  In this
situation, the run whole notebook button is ``dangerous''. When converting
his work to notebooks, Kenny ends up with a lot of comments that say ``this cell
takes a long time to run.''

To avert this danger, users are forced to write code within the notebook to
cache results. Kenny ends up ``littering the notebook with little switches that
comment out the slow parts'' and either ``load the object instead'' or ``save
the object to disk''. One of the authors of this paper manually writes cells
that check if a result file exists, and perform the calculation only if it's not
there.

%% Rick on auditing (possible solution): ``you didn't see your mistakes, they were
%% in there but you never really saw them because a mistake never led to an answer
%% at the end'' ``the real result of this analysis was these three plots, so go
%% back and figure out everything that I did that was involved in creating those
%% three plots. So that I could start from the raw data and create those three
%% plots.''

RCloud combines the functions of scratchpad with notebook assets. KC thinks
that having a scratch pad that doesn't persist between different notebooks is
``useless''.

%% The one-window design also makes some users feel that the side panes are taking
%% up too much space. Ivan: having ``long term'' code (which would be in assets)
%% above the command prompt, like in RStudio, means that both can be sized very
%% wide to accomodate long lines.

%% Kenny: Problem with screen real estate: side panes take up too much
%% space. Doesn't need the notebook tree pane.

%% Corey: In the previous version, it switched between code and results. Now you
%% see both - ``and there are times when that's good, but there's certainly times
%% when it'd be nice to - you know, you have 10 or 15 cells and you just want to
%% get back and there's all this output and you're scrolling all over the place so,
%% if there were a way to control both, that'd be great. There are times when I do
%% want to see the output, but there are times when I've seen enough of the same
%% thing.''

%% Jyothi: ``It's good that I can see the results but if I'm working and I need
%% more room and I want to hide the results, I can't.'' Could we have ``an option
%% to close the results window?''


\subsection{A sea of notebooks}
RCloud is starting to be a victim of its own success, as there are now too many
notebooks.  There are over 5000 notebooks on the research instance, of which
more than 500 have been starred and more than 350 have been forked.

Rick doesn't find the notebook tree very useful for this reason: ``I
don't necessarily need to see everybody's notebook that uses RCloud'' ``every
time I do something new, I get a new notebook and so now my notebooks are maybe
50 or 60. That's enough to think about just on my own, but if I've got
everybody's 50 or 60 sitting on my display, I find that it's more than I want to
know about.''

Although RCloud promises an environment where notebooks stay working, our users
have not all learned the habits that make this a reality. As Byers puts it,
there is still a big problem with ``bitrot'' - notebooks often stop working
because the user changed the structure of their data, changed a filename or a
database.  He says we need ``organizational protocols'' to catch up with the
technology.

There are technical problems to be solved here as well. Byers continues that the
problem with forking a notebook and correcting it, is that the original notebook
still exists with the error.  We need a way to see that there is a more recent
fork of notebook and to fetch in the changes from it.

Taylor, who writes packages and example notebooks for them, seems to be
haunted the most by dead notebooks.  At first, he had to learn how to write safe
notebooks: ``It would be a file inside a directory that only I had [...] access
to and so someone else couldn't run it, [...] a temporary file on something that
was read-only to everyone else. But I've gotten careful about that.''

But even correcting notebooks can come too late: ``I'll go back and change it and update
that page, but then what happens is people have in the meantime forked it. [...]
Usually what it'll be is that I'll have to change a package as well, so
their old fork stops working, and then they complain.''

Taylor tried to keep his notebook tree tidy, but this didn't help, because
people either keep old links in their email, or forked a notebook which is now
obsolete. By design, notebooks that are deleted in the user interface are not
purged from the repository. ``Now I'm really gun-shy about sharing notebooks
because it's like, do I want to support this forever?''

Taylor and Horace work together on a notebook:
\begin{quote}
There's no way for both of us
to have ownership of a notebook, so the only way is to fork it back and forth,
and so we have dozens of old copies. [We end up] deleting all the old ones, but
people still have links to them, because they don't actually disappear. [...]
The UI makes it easy to go back to the old stale versions, because you can say
`forked from' `forked from' `forked from', but there's actually no way to go the
way that we want people to go, which is up the tree.
\end{quote}

%% Bart: ``One UI notebook and a bunch of other notebooks that do various tasks and
%% are called with API calls. The problem is, if you clone all the notebooks, then
%% you have to go update every single notebook, because all the IDs are different
%% now. There's no sort of relative path type stuff that you can do. You can do it
%% with static assets, but you can't do it with Ajax calls''
