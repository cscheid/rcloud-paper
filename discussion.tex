\section{Discussion, Lessons and Limitations}
\label{sec:limitations}

\subsection{Design Considerations}

\carlos{All this stuff needs to appear in the paper much earlier.}

Experience with deploying RCloud in a community of data analysts
(``hackers'') has provided some insight about whether the proposed
requirements were appropriate, and how well they were met.
\stephen{The term {\it hackers} may be too tainted for us to use.}
% I know the following is true but also feel we need to let the work speak for itself. SCN
%This experience may be informative to researchers and implementers
%of future systems supporting collaborative visual analytics.

Reconsidering Heer and Agrawala's design considerations, our
experience confirms the relevance of their proposals, and indicates
areas for further exploration. We briefly examine these aspects of
the visual analytics environment.

{\bf Shared artifacts and artifact histories} are key features
of RCloud. We observed that hackers readily used its capabilities
to share code and experiments, discuss data analysis, help one another
with programming problems, and to publish results by sharing URLs
instead of embedding screenshots in PowerPoint. Artifact histories are
maintained in git. We admit that git is not human-friendly, but many
hackers are familiar with it. Better graphical tools to explore and
control provenance would be an advantage.

{\bf Modularity and granularity.} The ability to segment work into
independent modules is a key to working in teams. It is a further
advantage if the units can be kept small, and team members can
realize benefits that are at least proportional to their work
on these units, which is referred to as granularity. RCloud's notebook
and versioning capabilities allow work to be divided into units as fine
as the underlying language allows, and versioning encourages making
incremental changes at low cost and without disrupting the work of others.

{\bf View sharing, bookmarking.} Most resources in RCloud are named
and accessed as URLs. This proved to be an effective mechanism for
sharing, and their ubiquity allows analyses to be integrated into
external processes and systems.

{\bf Discussion.} Annotation and commenting was another important goal.
Commenting is supported through github, but our hackers found it
awkward and did not exercise it as much as we expected.
More elaborate annotation was not implemented, and remains as future work.
An interesting question is, to what extent should application users
be able to make annotations in published notebooks without coding and
being exposed to the hackers's view?
The RCloud prototype has not addressed this problem yet.

{\bf Content export} is not a capability we worked to support,
but R already has many packages for this. Our goal was to devise
ways of working where explicit export is less necessary.
However it is desirable to integrate results
through web protocols such as JSON. We did assume that RCloud
notebooks need to play well in the ecosystem of other tools,
and this worked out as intended, though we learned it also creates
a temptation to absorb features almost without limit. (Should
RCloud support templates for personal web pages and graphical
editing? Should it incorporate an email client and emacs?
Should it be able to push content to Facebook?)

{\bf Social-psychological incentives} and {\bf voting and ranking}
are supported through starring. This mechanism was employed often
by our test audience. A potential next step would be to enhance
recommendations via relationships discovered by static and
dynamic code analysis. This could be done both within and across
collections of scripts (the latter being similar to Vistrails'
enhanced recommendations by clustering multiple workflows).
It should be highly valuable to hackers to know which packages
are frequently used together, or appear with a given record type
or data feed. Such knowledge is important, and difficult to acquire today.
In general, trivial or passive mechanisms to collect data for recommendations
are essential.

{\bf Group management, size and diversity.} This area lacks sufficient
support in RCloud, but is clearly important to working in teams.
We rely on existing administrative and social processes and conventions,
outside RCloud, to manage accounts and groups. This capability
could likely benefit from integrating social media to track
identities and groups and to maintain communication channels.

{\bf Curation.} Even without more formal group management, users are
able to curate groups of related notebooks using the simple folder
system. This proved to be particularly effective for organizing
training materials.

\subsection{Limitations}

Because we developed the ideas and the prototype together,
we did not foresee some of the requirements that emerged
after people started working with the prototype.

{\bf Multiple language support.}
We did not anticipate having to back off so soon on the
assumption that programming is done mainly in one language (R).
In retrospect, we should have realized that many data science problems
are already being solved with cross-language approaches.

{\bf Versioning.}
A disadvantage is that some important aspects of the environment
are more difficult to manage in RCloud than in conventional systems.
Not only does RCloud intentionally lack an explicit separation of the
development and deployment environments, but every version of every
prototype is shared by default. While this encourages collaboration on
work in progress, errors such as misconfiguration, mismatches between
versions of packages, and ordinary programming errors are also
easily shared and can affect production websites unintentionally.
This cannot be avoided entirely, but the power of sharing is worth
this price (as proven true with distributed systems in general).
Still, this problem needs more attention if the RCloud environment is
going to be scaled up to more users with fewer informal channels to
coordinate work.

Effective sharing in RCloud will require more control over versioning.
Versioning must be managed in several places: in scripts, in the R environment
such as the installed R libraries and packages, and in the external
environment such as the operating system and even protocols spoken by
remote services. At one end of the scale, we have full control over the
versioning of scripts via git, though there is still a need for conventions
for example to name stable or working versions of scripts or versions known
to work together. The R environment is under the control of its package
manager. It is at least possible for RCloud to access information about
package versions and configurations, but support for checking compatibility
and maintaining multiple versions in the same environment is not strong.
At the other end of the scale, there is not much reason to expect version
control for the external environment. Most programmers rely on clean living
and a conservative approach to global upgrades.

On top of this, RCloud allows hackers to fork experiments to try
new ideas quickly. So far we have not done much more to address the
problem of having a lot of bits and pieces of code and data lying
around, though at least we have made it easier to get at them and
to apply algorithms and metadata to organize them.

%Asynchronous collaborative visual analytics
%(ACVA)~\cite{Chen:2011:SEC}. This paper addresses visualization
%\emph{of} the ACVA process. It will be important when we talk about
%recommendation systems, and navigation of the set of notebooks, etc.

{\bf Caching.}
An important consideration is how and where to introduce caching
in RCloud's distributed computation model. Caching can dramatically
improve performance in a way that is otherwise transparent to
application program semantics \cite{Callahan:2006:VVM, Guo:2010:TPI}.
Though caching is usually implicit, in some environments, such as
Vistrails, programmers may also have some explicit control over cache
management. This may be desirable to ensure the repeatability of
computations that rely on volatile or unreliable data sources.
For example, data fetched from a remote service (like historical stock data)
might temporarily become unavailable, so caching could improve
reliability and consistency of results. Alternatively, in a use case
involving text analysis through a topic modeling technique such as
Latent Dirichlet Allocation (LDA) that is relatively expensive,
we might want caching to improve performance. Currently we would
program this in RCloud by explicitly saving the analysis in a
persistent database, but it would be desirable to implement this
in a more general purpose associative cache. We envision cache
management being implemented in a new middle layer not in RCloud's
architecture today.

{\bf Security.}
It is essential to provide security in an environment for
collaboration and data publishing. To provide some
protection for RCloud workbooks in an organization's intranet,
RCloud uses an object capability model \cite{Miller:2006:RCT}
recently added to the Rserve protocol \cite{Urbanek:2003:AFW}
that prevents unauthenticated clients from making
unauthorized calls to the RCloud runtime environment.

Our back-end environment assumes a high degree of trust between users.
Access control for information security is delegated to the host
operating system and web server. In practice, most operating
systems and web servers rely either on coarse permission models,
which tend to be ineffective, or on detailed access control
lists, which tend to be cumbersome. 
Information security in RCloud should be re-examined, but more
sophisticated approaches such as information flow analysis are
still an active research area, and many unsolved problems have
been identified \cite{Moore:2011:SAF}. Having a richer environment for
collaboration and information sharing will encourage more research
and the adoption of better solutions to this problem.
